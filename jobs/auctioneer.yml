---
name: auctioneer
release: diego
manifest: |
  bpm:
    enabled: true
  diego:
    auctioneer:
      skip_consul_lock: true
      starting_container_count_maximum: (( .diego_brain.starting_container_count_maximum.value ))
      ca_cert: (( $ops_manager.ca_certificate ))
      server_cert: (( .properties.auctioneer_server_cert.cert_pem ))
      server_key: (( .properties.auctioneer_server_cert.private_key_pem ))
      bbs:
        client_cert: (( .properties.bbs_client_cert.cert_pem ))
        client_key: (( .properties.bbs_client_cert.private_key_pem ))
        ca_cert: (( $ops_manager.ca_certificate ))
      rep:
        client_cert: (( .properties.rep_client_cert.cert_pem ))
        client_key: (( .properties.rep_client_cert.private_key_pem ))
        ca_cert: (( $ops_manager.ca_certificate ))
  enable_consul_service_registration: false
  logging:
    format:
      timestamp: (( .properties.logging_timestamp_format.selected_option.parsed_manifest(rfc3339_or_unix_epoch) ))
  loggregator:
    use_v2_api: true
    ca_cert: (( $ops_manager.ca_certificate ))
    cert: (( .properties.loggregator_client_cert.cert_pem ))
    key: (( .properties.loggregator_client_cert.private_key_pem ))
